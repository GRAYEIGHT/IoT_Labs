<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Lab - Measuring resistance</title>
	<meta name="generator" content="TextMate http://macromates.com/">
	<meta name="author" content="GRAY8 LLC">
	<link rel="stylesheet" type="text/css" href="../css/style.css" />
	<link href='http://fonts.googleapis.com/css?family=Open+Sans|Roboto' rel='stylesheet' type='text/css'>
	<script type="text/javascript" src="../js/labs.js"></script>
</head>
<body class="lab">
	<section id="menu" class="">
		<table style="width:100%">
			<col width="80px">
			<tr>
				<td><a class="menuItem intro" href="../index.html">&lt;&nbsp;Back</a></td>
				<td><a class="menuItem intro" href="#introAnchor">Intro</a></td>
				<td><a class="menuItem parts" href="#partsAnchor">Parts</a></td>
				<td><a class="menuItem wiring" href="#wiringAnchor">Wiring</a></td>
				<td><a class="menuItem program" href="#programAnchor">Program</a></td>
				<td><a class="menuItem notWorking" href="#notWorkingAnchor">Not Working</a></td>
				<td><a class="menuItem goingFurther" href="#goingFurtherAnchor">Going Further</a></td>
			</tr>
		</table>
	</section>
	<section id="title" class="card fade-in">
		<h1>Measuring Resistance</h1>
		<p>
			In this workshop, you will connect a potentiometer to an Arduino analog pin <br>and program the Arduino to 
			light an LED when the potentiometer reaches a defined value.
		</p>
	</section>
	<div id="introAnchor" class="anchor"></div>
	<section id="intro" class="card fade-in">
		<div class="header"><h1>Introduction</h1></div>
		<table width="100%" cellpadding="0" cellspacing="0">
			<col width="100%">
			<tr>
				<td>
					<p>
						A potentiometer changes its resistance as its knob turns. One of the outer connectors of the potentiometer connects to a power, 
						he other outer connector connects to ground.The middle connector slides across a strip of resistive material. 
						The resistive strip has a low resistance at one end, and its resistance increases to a maximum resistance at the other end. 
						The third connector is usually connected to the Arduino’s analog pin.
					</p>
					<p>
						When a potentiometer is connected to 5 volts across its outer pins, the middle pin will read some value between 0 and 
						5 volts dependent on the angle to which it is turned (i.e.. 2.5 volts in the middle). We can then use the returned values as a variable in our program.
					</p>
					<p>
						The Arduino Uno has 6 pins which can be used for analog input.These inputs take a voltage (from 0 to 5 volts) and convert it to a digital 
						number between 0 (0 volts) and 1023 (5 volts) (10 bits of resolution).
					</p>
					<p>
						For this lab, you will connect a potentiometer’s middle pin (the output) to an Arduino Uno analog input. 
						When the potentiometer value reaches a certain level, as defined by the program sketch, the LED will light. At the same time, 
						the program will send potentiometer data to the computer through the USB connector.
					</p>
					<p>
						To begin, grab the parts listed in the Parts section and assemble them as illustrated in the diagram in the Breadboard section. 
					</p>
					<p>
						Once your circuit is assembled, use the Arduino IDE to type in the code in the Program section and upload it to your Arduino. 
						To do this, plug the Arduino board into your USB port. Then select the proper port in Tools > Serial Port > (the comm port of your Arduino). 
					</p>
					<p>
						Next upload the program by going to File > Upload to I/O Board (ctrl+U). Finally bask in the glory and possibility that controlling lights offers.
					</p>
				</td>
			</tr>
		</table>
	</section>
	<div id="partsAnchor" class="anchor"></div>
	<section id="parts" class="card fade-in">
		<div class="header"><h1>Parts</h1></div>
		<p>The following are the parts for this lab.</p>
		<table>
			<col width="30%">
			<tr>
				<td valign="top">
					<h2>LED</h2>
					<img src="../images/parts/redLED.svg" style="height:100px; margin-left:20px">
				</td>
				<td>
					<p>Use one (1) LED.</p>
				</td>
			</tr>
				<tr>
					<td valign="top">
						<img src="../images/parts/1KResistor.svg" style="height:100px; margin-left:20px">
						<img src="../images/parts/1KResistor.svg" style="height:100px; margin-left:20px">
					</td>
					<td>
						<p>
							Two (1) 1K ohm resistors. The first resistor limits the current flowing to the LED. This makes sure the LED is not damaged.
							The second resistor is used to pull up the output of the motion sesnor to +5volts.
						</p>
					</td>
				</tr>
			<tr>
				<td valign="top">
					<h2>Potentiometer</h2>
					<img src="../images/parts/Potentiometer.svg" style="height:100px; margin-left:20px">
				</td>
				<td>
					<p>
						One (1) 10K Potentiometer. The Arduino will read the potentiometers voltage output and report the value over the serial interface.
						Once the voltage reaches a defined threshold, the LED will light.
					</p>
				</td>
			</tr>
		</table>
	</section>
	<div id="wiringAnchor" class="anchor"></div>
	<section id="wiring" class="card fade-in">
		<div  class="header"><h1>Wiring</h1></div>
		<img src="../images/wiring/potentiometer_bb.svg">
	</section>
	<div id="programAnchor" class="anchor"></div>
	<section id="program" class="card fade-in">
		<div  class="header"><h1>Program</h1></div>
		<code><pre>
/*
	Read a Potentiometer
*/

#define THRESHOLD  512;
int potPin = 2;
int ledPin = 3;

// The setup routine runs once when you upload a program or press the reset button
void setup()
{
	Serial.begin(9600);
}

// The loop routine runs over and over, forever.
}
void loop() 
{
	int potValue = analogRead(potPin);
	
	if (buttonState >= THRESHOLD) // turn LED on:
	{
    		digitalWrite(ledPin, HIGH);
	}
 	else {						// turn LED off:
    		digitalWrite(ledPin, LOW);
  	}
	
	delay(1000); 
  	Serial.println(potValue);
}
		</pre></code>
	</section>
	<div id="notWorkingAnchor" class="anchor"></div>
	<section id="notWorking" class="card fade-in">
		<div class="header"><h1>Not Working</h1></div>
		<h2>Program not uploaded.</h2>
		<p>
		Check the make sure the proper serial port is selected. You select the serial port using the menu items tools > serial port.
		</p>
		<h2>LED not lighting up.</h2>
		<p>
		LEDs will only work in one direction. Try taking it out and twisting it 180 degrees. (no need to worry, installing it backwards does no permanent harm the LED)
		</p>
		<h2>Potentiometer not seated on breadboard</h2>
		<p>
		The potentiometer may not be seated properly in the breadboard. If this occurs, it will not make a connection to the jumper wires.  
		Check to make sure that the potentiometer is pushed firmly into the breadboard.
		</p>
	</section>
	<div id="goingFurtherAnchor" class="anchor"></div>
	<section id="goingFurther" class="card fade-in">
		<div class="header"><h1>Going Further</h1></div>
		<h2>Change the Threshold Level</h2>
		<p>
		Lowering the threshold level will cause the LED light more often. Raising the threshold level will cause the LED to light less often.
		To change the threshold level, make the following code change:
		</p>
		<h2>Add a Second LED</h2>
		<p>
			Use a second LED to indicate another threshold level. The first level can act as a “warning” message and second level can act as  “danger” level. 
			Use a yellow LED for warning and a red LED for danger.
		</p>
		<p>
			To add a second level, change program as follows:
		</p>
	</section>
	<section id="footer"></footer>
</body>
</html>
