<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Lab - Measure Distance</title>
	<meta name="generator" content="TextMate http://macromates.com/">
	<meta name="author" content="GRAY8 LLC">
	<link rel="stylesheet" type="text/css" href="../css/style.css" />
	<link href='http://fonts.googleapis.com/css?family=Open+Sans|Roboto' rel='stylesheet' type='text/css'>
	<script type="text/javascript" src="../js/labs.js"></script>
</head>
<body class="lab">
	<section id="menu" class="">
		<table style="width:100%">
			<col width="80px">
			<tr>
				<td><a class="menuItem intro" href="../index.html">&lt;&nbsp;Back</a></td>
				<td><a class="menuItem intro" href="#introAnchor">Intro</a></td>
				<td><a class="menuItem parts" href="#partsAnchor">Parts</a></td>
				<td><a class="menuItem wiring" href="#wiringAnchor">Wiring</a></td>
				<td><a class="menuItem program" href="#programAnchor">Program</a></td>
				<td><a class="menuItem notWorking" href="#notWorkingAnchor">Not Working</a></td>
				<td><a class="menuItem goingFurther" href="#goingFurtherAnchor">Going Further</a></td>
			</tr>
		</table>
	</section>
	<section id="title" class="card fade-in">
		<h1>Measure Distance</h1>
		<p>
			In this workshop, you will connect an ultrasonic sensor to an Arduino analog pin <br>and program the Arduino to 
			report the distance of an object.
		</p>
	</section>
	<div id="introAnchor" class="anchor"></div>
	<section id="intro" class="card fade-in">
		<div class="header"><h1>Introduction</h1></div>
		<table width="100%" cellpadding="0" cellspacing="0">
			<col width="100%">
			<tr>
				<td>
					<p>
						Like a bat, ultraSonic sensors send out pulses of ultrasonic sound (at a frequency of 41KHz, higher than humans can hear), 
						and listens for the reflection of the sound off a nearby object. By measuring the time between the initial pulse and when the reflection returns, 
						the distance to the object can be determined. Sound travels at about 1126 feet per second (or 343 meters per second), 
						so for an object 10 feet away from the sensor, the round-trip time would be 20 feet / 1126 feet per second = 0.0178 seconds or 17.8ms. 
					</p>
					<p>
						To measure the distance from an object, you will conenct a Maxbotix LV-EZ1 ultrasonic sensor to the Arduino. The sensor outputs data in several formats
						to include analog, pulsw width and serial. For this lab, you will use the analog output signal to measure distance.
					</p>
					<p>
						To begin, grab the parts listed in the <i>Parts</i> section and assemble them as shown in the diagram in the <i>Breadboard</i> section. 
					</p>
					<p>
						Once your circuit is assembled, use the Arduino IDE to type (or cut and paste) the code in the <i>Program</i> section and upload it to your Arduino. 
						To do this, plug the Arduino board into your USB port. Then select the proper port in <i>Tools > Serial Port > (the comm port of your Arduino)</i>. 
					</p>
					<p>
						Next, upload the program by going to <i>File > Upload</i> or typing ctrl+U. After the program loads, feel free to knock over your project!
					</p>
				</td>
			</tr>
		</table>

	</section>
	<div id="partsAnchor" class="anchor"></div>
	<section id="parts" class="card fade-in">
		<div class="header"><h1>Parts</h1></div>
		<div class="content">
			<p>The following are the parts for this lab.</p>
			<table>
				<col width="25%">
				<tr>
					<td valign="top">
						<img src="../images/parts/ultraSonic.png" style="height:100px; margin-left:20px">
					</td>
					<td>
						<p>One (1) ultrasonic sensor.</p>
					</td>
				</tr>
			</table>
			<div>
	</section>
	<div id="wiringAnchor" class="anchor"></div>
	<section id="wiring" class="card fade-in">
		<div  class="header"><h1>Wiring</h1></div>
		<img src="../images/wiring/ultraSonic_bb.png">
	</section>
	<div id="programAnchor" class="anchor"></div>
	<section id="program" class="card fade-in">
		<div  class="header"><h1>Program</h1></div>
		<code><pre>
/*
	Sense Pressure
*/

void setup()
{
  // initialize serial communications
  Serial.begin(9600); 
}

void loop()
{
  int sensor, inches, x;
  
  // read the analog output of the EZ1 from analog input 0
  sensor = analogRead(0);
  
  // convert the sensor reading to inches
  inches = sensor / 2;
  
  // print out the decimal result
  Serial.print(inches,DEC);
  
  // print out a graphic representation of the result
  Serial.print(" ");
  for (x=0;x<(inches/5);x++)
  {
    Serial.print(".");
  }
  Serial.println("|");

  // pause before taking the next reading
  delay(1000);
}
		</pre></code>
	</section>
	<div id="notWorkingAnchor" class="anchor"></div>
	<section id="notWorking" class="card fade-in">
		<div class="header"><h1>Not Working?</h1></div>
		<h2>Program not uploaded</h2>
		<p>
			Make sure the proper serial port is selected. Select the serial port in the Arduino IDE menu <i>tools > serial port</i>.
		</p>
		<h2>Sensor output incorrect</h2>
		<p>
			Check to make sure you have the analog output pin connected to A0 of the Arduino. When not connected, the sketch will provide incorrect data.
		</p>
	</section>
	<div id="goingFurtherAnchro" class="anchor"></div>
	<section id="goingFurther" class="card fade-in">
		<div class="header"><h1>Going Further</h1></div>
		<h2>Connect Two UltraSonic Sensors</h2>
		<p>
			Use two ultrsonic sensors to determine if an object is approaching from the front and the back. No one will be able to sneek up on you!
		</p>
		<h2>Add Sound</h2>
		<p>
			Add piezo buzzer to your circuit. When distance is less than a threshold, sound the buzzer.
		</p>
	</section>
	<section id="footer"></footer>
</body>
</html>
